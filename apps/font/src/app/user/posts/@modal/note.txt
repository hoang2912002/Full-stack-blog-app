·ªû ƒë√¢y l√† gi·∫£i th√≠ch chi ti·∫øt c·ªßa c√°ch th·ª©c ho·∫°t ƒë·ªông @modal ghi ƒë√® l√™n [id]/delete/page
1 ƒê·∫ßu ti√™n l√† khi d√πng @modal (hay c√≤n g·ªçi l√† @segment) + v·ªõi "(.)" trong th∆∞ m·ª•c app

+ C√≥ nghƒ©a l√† khi ng∆∞·ªùi d√πng truy c·∫≠p l√† ƒë∆∞·ªùng link http://localhost:3000/user/posts/57/delete
  thay v√¨ n√≥ redirect page, h√£y hi·ªÉn th·ªã n·ªôi dung kh√°c ghi ƒë√® l√™n (vd: ·ªü ƒë√¢y l√† modal)

2 Diagram c√°ch ho·∫°t ƒë·ªông

    /app/user/posts
    ‚îú‚îÄ‚îÄ layout.tsx
    ‚îú‚îÄ‚îÄ [id]
    ‚îÇ   ‚îî‚îÄ‚îÄ delete
    ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx             üëà Trang xo√° g·ªëc (full page)
    ‚îú‚îÄ‚îÄ @modal
    ‚îÇ   ‚îú‚îÄ‚îÄ (.)[id]
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ delete
    ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ page.tsx         üëà Interceptor (hi·ªán modal)
    ‚îÇ   ‚îî‚îÄ‚îÄ default.tsx              üëà M·∫∑c ƒë·ªãnh kh√¥ng render modal

+ Khi truy c·∫≠p v√† /user/posts

  * Next.js render children trong layout.tsx l√† danh s√°ch c√°c post.

  * Segment @modal s·∫Ω hi·ªÉn th·ªã default.tsx (t·ª©c l√† null), n√™n ban ƒë·∫ßu kh√¥ng c√≥ modal g√¨ c·∫£.

+ Click v√†o n√∫t xo√° (Link ƒë·∫øn http://localhost:3000/user/posts/123/delete)

  * N·∫øu kh√¥ng c√≥ intercepting route, Next.js s·∫Ω load trang /user/posts/[id]/delete/page.tsx 
    v√† thay ƒë·ªïi ho√†n to√†n giao di·ªán.

  * Nh∆∞ng v√¨ m√¨nh c√≥ d√πng @segment => N√≥ render @modal/(.)[id]/delete/page.tsx 
    v√†o khu v·ª±c modal trong layout, nh∆∞ng gi·ªØ nguy√™n n·ªôi dung ch√≠nh children 
    (t·ª©c l√† kh√¥ng r·ªùi kh·ªèi trang danh s√°ch).

3 T·∫°i sao ph·∫£i ƒëƒÉt @modal/(.)[id]/delete/

+ @modal -> l√† parallel route, gi√∫p b·∫°n render nhi·ªÅu ph·∫ßn c√πng l√∫c trong layout.

+ (.) -> l√† intercepting segment 
  * (.) ·ªü ƒë√¢y l√† render c√πng th∆∞ m·ª•c post

  * (..) l√† render ·ªü ngo√†i => y nh∆∞ c√°ch d√πng ../

4 Khai b√°o trong layout.tsx

+ ·ªû ƒë√¢y t√¥i mu·ªën render ra 1 modal delete ·ªü danh s√°ch c√°ch Posts cho n√™n l√† ph·∫ßn
  parallel route ƒë·∫∑t l√† @modal => L∆∞u √Ω c√°i n√†y c√≥ th·ªÉ ƒë·ªïi flexable t√πy theo nhu c·∫ßu

+ Nh∆∞ng trong file layout c·∫ßn ph·∫£i khai b√°o bi·∫øn gi·ªëng v·ªõi parallel route ƒë·ªÉ nextjs nh·∫≠n d·∫°ng


5 File default.tsx

+ ƒê·∫ßu ti√™n nh∆∞ t√™n g·ªçi c·ªßa n√≥ default khi m·ªõi render page do c√≥ khai b√°o ·ªü layout.tsx
  * Th√¨ n√≥ s·∫Ω render c√°c n·ªôi dung ·ªü trong @modal theo bi·∫øn modal

  * N·∫øu ko mu·ªën hi·ªÉn th·ªã n·ªôi dung th√¨ c·∫ßn ph·∫£i c√≥ 1 file default trong @modal v√† tr·∫£ v·ªÅ null ƒë·ªÉ (·∫©n modal)

6 C√°ch th·ª©c ho·∫°t ƒë·ªông

+ Khi b·∫°n ·∫•n v√†o n√∫t delete n·∫øu c√≥ intercepting route:
  * S·∫Ω intercept (ch·∫∑n) route g·ªëc: /user/posts/109/delete, v√† inject v√†o modal slot (layout.tsx), 
  ch·ª© kh√¥ng chuy·ªÉn h·∫≥n route.

  * Cho n√™n l√† khi d√πng intercepting route s·∫Ω ko th·∫•y hi·ªán t·ª± rerender page



  
